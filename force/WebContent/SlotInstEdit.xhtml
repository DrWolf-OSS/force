<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich" template="/layout/template.xhtml">

	<ui:define name="body">

		<a:form id="slotInst" styleClass="edit">
			<rich:panel>
				<f:facet name="header">#{slotDefHome.instance.name} : #{slotInstHome.managed ? 'Edit' : 'Create'} Slot inst #{slotInstHome.managed ? slotInstHome.id : ''}</f:facet>

				<ui:repeat var="message" value="#{slotInstEditBean.slotMessages}">
					<h:graphicImage value="/img/msgerror.png"
						rendered="#{message.type == 'ERROR'}" />
					<h:graphicImage value="/img/msgwarn.png"
						rendered="#{message.type == 'WARNING'}" />
					<h:outputText value="#{message.text}" />
					<br />
				</ui:repeat>

				<s:div id="embeddedProperties">
					<c:forEach var="dataInstance" items="#{slotInstEditBean.embeddedProperties}">
					<s:decorate template="/layout/display.xhtml">
						<ui:define name="label">
							<h:outputText value="#{dataInstance.dataDefinition.label}" />
						</ui:define>
						<s:fragment rendered="#{not dataInstance.multiple}">
						<h:outputText value="#{dataInstance.stringValue}"
							rendered="#{dataInstance.dataDefinition.dataType == 'STRING'}"/>
						<h:outputText value="#{dataInstance.integerValue}"
							rendered="#{dataInstance.dataDefinition.dataType == 'INTEGER'}" />
						<h:outputText value="#{dataInstance.booleanValue ? 'true' : 'false'}"
							rendered="#{dataInstance.dataDefinition.dataType == 'BOOLEAN'}" />
						<h:outputText value="#{dataInstance.dateValue}"
							rendered="#{dataInstance.dataDefinition.dataType == 'DATE'}">
							<s:convertDateTime type="date" dateStyle="short"
								pattern="dd/MM/yyyy" />
						</h:outputText>
						<s:span rendered="#{dataInstance.dataDefinition.dataType == 'LINK'}">
							<a href="#{dataInstance.stringValue}" target="blank">#{dataInstance.stringValue}</a>
						</s:span>
						</s:fragment>
						<s:fragment rendered="#{dataInstance.multiple}">
							<h:outputText value="#{dataInstance.value}" />
						</s:fragment>
					</s:decorate>
					</c:forEach>
				</s:div>

				<s:div id="properties">
					<c:forEach var="dataInstance" items="#{slotInstEditBean.propertyInsts}">
						<s:decorate template="/layout/edit.xhtml">
							<ui:define name="label">
								<h:outputText value="#{dataInstance.dataDefinition.label}" />
							</ui:define>
							
							<ui:include src="/SlotInst#{dataInstance.multiplicity.value()}Property.xhtml" >
								<ui:param value="#{dataInstance}" name="dataInstance" />
							</ui:include>
						</s:decorate>
					</c:forEach>	
				</s:div>
				

				<div style="clear: both" />

				<s:div id="collections">
					<h:panelGrid columns="2">
						<c:forEach var="coll"
							items="#{slotInstEditBean.docInstCollections}">
							
						<s:decorate template="/layout/display.xhtml" 
								rendered="#{coll.docDefCollection.conditionalPropertyDef == null or 
										(coll.docDefCollection.conditionalPropertyDef != null and slotInstEditBean.findPropertyInstByDefId(coll.docDefCollection.conditionalPropertyDef.id).value.equals(coll.docDefCollection.conditionalPropertyInst.value))}">
							<ui:define name="label">
								<h:outputText value="#{coll.docDefCollection.name}" />
							</ui:define>
									
							<s:div id="primaryRegion_#{coll.docDefCollection.id}" 
								rendered="#{coll.docDefCollection.conditionalPropertyDef == null or 
										(coll.docDefCollection.conditionalPropertyDef != null and slotInstEditBean.findPropertyInstByDefId(coll.docDefCollection.conditionalPropertyDef.id).value.equals(coll.docDefCollection.conditionalPropertyInst.value))}">
								<rich:panel rendered="#{slotDefHome.instance.type != 'PRIMARY'}">
									<f:facet name="header">
										<h:outputText value="Available #{coll.docDefCollection.docDef.name} on primary slot" />
									</f:facet>

									<a:repeat
										value="#{slotInstEditBean.primaryDocs[coll.docDefCollection.id]}"
										var="item">
										
										<s:div styleClass="fileItem">
										<rich:toolTip direction="top-left">
									 		<img src="/force/tn?id=#{item.document.id}&amp;name=imgpreview"/>
										</rich:toolTip>
										<ui:define name="label">
											<h:outputText value="File Name" />
										</ui:define>
										<h:graphicImage value="/img/mimetype/document-pdf.png" rendered="#{item.mimetype.contains('pdf')}" styleClass="fileIcon"/>
										<h:graphicImage value="/img/mimetype/document-word.png" rendered="#{item.mimetype.contains('word')}" styleClass="fileIcon"/>
										<h:graphicImage value="/img/mimetype/document-powerpoint.png" rendered="#{item.mimetype.contains('powerpoint')}" styleClass="fileIcon"/>
										<h:graphicImage value="/img/mimetype/document-excel.png" rendered="#{item.mimetype.contains('excel')}" styleClass="fileIcon"/>
										<h:graphicImage value="/img/mimetype/document-table.png" rendered="#{item.mimetype.contains('opendocument.spreadsheet')}" styleClass="fileIcon"/>
										<h:graphicImage value="/img/mimetype/document-image.png" rendered="#{item.mimetype.contains('image')}" styleClass="fileIcon"/>
										<h:graphicImage value="/img/mimetype/document-text.png" rendered="#{item.mimetype.contains('text') or item.mimetype.contains('rtf')}"
														styleClass="fileIcon"/>
										<h:graphicImage value="/img/mimetype/document.png" 
														rendered="#{not item.mimetype.contains('pdf') and not item.mimetype.contains('word') and not item.mimetype.contains('powerpoint')
																	and not item.mimetype.contains('excel') and not item.mimetype.contains('opendocument.spreadsheet') and not item.mimetype.contains('image') 
																	and not item.mimetype.contains('text') and not item.mimetype.contains('rtf')}" 
														styleClass="fileIcon"/>
										<h:graphicImage value="/img/tick-small.png" rendered="#{item.document.hasAspect('P:dw:signed')}" style="margin-left:-6px" />
										<a href="/force/download/#{item.fileName}?ref=#{item.document.id}">
										<h:outputText value="#{item.fileName}" />
										</a>
										<a:region>
											<a:commandButton value=">>"
												id="addPrimaryDoc_#{coll.docDefCollection.id}"
												action="#{slotInstEditBean.addDocFromPrimary(coll.docDefCollection.id,item)}"
												reRender="infoPanel_#{coll.docDefCollection.id},primaryRegion_#{coll.docDefCollection.id}"
												disabled="#{slotInstEditBean.datas[coll.docDefCollection.id].size ge coll.docDefCollection.max}"/>
										</a:region>
										</s:div>
										
									</a:repeat>

								</rich:panel>
							</s:div>
						</s:decorate>


						<s:div id="infoPanel_#{coll.docDefCollection.id}"
							rendered="#{coll.docDefCollection.conditionalPropertyDef == null or 
										(coll.docDefCollection.conditionalPropertyDef != null and slotInstEditBean.findPropertyInstByDefId(coll.docDefCollection.conditionalPropertyDef.id).value.equals(coll.docDefCollection.conditionalPropertyInst.value))}">
							<ui:repeat var="message"
								value="#{slotInstEditBean.collectionsMessages[coll.docDefCollection.id]}">
								<h:graphicImage value="/img/msgerror.png"
									rendered="#{message.type == 'ERROR'}" />
								<h:graphicImage value="/img/msgwarn.png"
									rendered="#{message.type == 'WARNING'}" />
								<h:outputText value="#{message.text}" />
								<br />
							</ui:repeat>
							<rich:panel>
								<f:facet name="header">
									<h:outputText value="Uploaded Files Info" />
								</f:facet>
								<h:outputText value="No files uploaded"
									rendered="#{slotInstEditBean.datas[coll.docDefCollection.id] == null or (empty slotInstEditBean.datas[coll.docDefCollection.id])}" />

								<a:repeat id="fileGrid_#{coll.docDefCollection.id}"								
									value="#{slotInstEditBean.datas[coll.docDefCollection.id]}"
									var="item">
									
									<s:div styleClass="fileItem">
			
									<ui:repeat var="message"
										value="#{slotInstEditBean.filesMessages[item.id]}">
										<h:graphicImage value="/img/msgerror.png"
											rendered="#{message.type == 'ERROR'}" />
										<h:graphicImage value="/img/msgwarn.png"
											rendered="#{message.type == 'WARNING'}" />
										<h:outputText value="#{message.text}" />
										<br />
									</ui:repeat>

									<s:decorate template="/layout/display.xhtml">
										<rich:toolTip direction="top-left">
									 		<img src="/force/tn?id=#{item.document.id}&amp;name=imgpreview"/>
										</rich:toolTip>
										<ui:define name="label">
											<h:outputText value="File Name" />
										</ui:define>
										<h:graphicImage value="/img/mimetype/document-pdf.png" rendered="#{item.mimetype.contains('pdf')}" styleClass="fileIcon"/>
										<h:graphicImage value="/img/mimetype/document-word.png" rendered="#{item.mimetype.contains('word')}" styleClass="fileIcon"/>
										<h:graphicImage value="/img/mimetype/document-powerpoint.png" rendered="#{item.mimetype.contains('powerpoint')}" styleClass="fileIcon"/>
										<h:graphicImage value="/img/mimetype/document-excel.png" rendered="#{item.mimetype.contains('excel')}" styleClass="fileIcon"/>
										<h:graphicImage value="/img/mimetype/document-table.png" rendered="#{item.mimetype.contains('opendocument.spreadsheet')}" styleClass="fileIcon"/>
										<h:graphicImage value="/img/mimetype/document-image.png" rendered="#{item.mimetype.contains('image')}" styleClass="fileIcon"/>
										<h:graphicImage value="/img/mimetype/document-text.png" rendered="#{item.mimetype.contains('text') or item.mimetype.contains('rtf')}"
														styleClass="fileIcon"/>
										<h:graphicImage value="/img/mimetype/vise-drawer.png" rendered="#{item.mimetype.contains('zip')}" styleClass="fileIcon"/>
										<h:graphicImage value="/img/mimetype/document.png" 
														rendered="#{not item.mimetype.contains('pdf') and not item.mimetype.contains('word') and not item.mimetype.contains('powerpoint')
																	and not item.mimetype.contains('excel') and not item.mimetype.contains('opendocument.spreadsheet') and not item.mimetype.contains('image') 
																	and not item.mimetype.contains('text') and not item.mimetype.contains('rtf') and not item.mimetype.contains('zip')}" 
														styleClass="fileIcon"/>
										<h:graphicImage value="/img/tick-small.png" rendered="#{item.document.hasAspect('P:dw:signed')}" style="margin-left:-6px" />
										<a href="/force/download/#{item.fileName}?ref=#{item.document.id}">
										<h:outputText value="#{item.fileName}" />
										</a>
									</s:decorate>
									<s:decorate template="/layout/display.xhtml">
										<ui:define name="label">
											<h:outputText value="Signed" />
										</ui:define>
										<h:outputText value="#{item.document.hasAspect('P:dw:signed') ? 'Yes' : 'No'}"/>
										<rich:toolTip mode="client" rendered="#{item.document.hasAspect('P:dw:signed')}">
											<s:span>
												<a:repeat var="sign" value="#{item.signatures}" rowKeyVar="key">										
													<s:decorate template="/layout/display.xhtml">
														<ui:define name="label">
															<h:outputText value="Authority" />
														</ui:define>
														<h:outputText value="#{sign.authority}" />
													</s:decorate>
													<s:decorate template="/layout/display.xhtml">
														<ui:define name="label">
															<h:outputText value="Signature" />
														</ui:define>
														<h:outputText value="#{sign.sign}" />
													</s:decorate>
													<s:decorate template="/layout/display.xhtml">
														<ui:define name="label">
															<h:outputText value="Codice Fiscale" />
														</ui:define>
														<h:outputText value="#{sign.cf}" />
													</s:decorate>
													<s:decorate template="/layout/display.xhtml">
														<ui:define name="label">
															<h:outputText value="Expiration date" />
														</ui:define>
														<h:outputText value="#{sign.expiry}" >
															<s:convertDateTime type="date" dateStyle="short" pattern="dd/MM/yyyy" />
														</h:outputText>
													</s:decorate>
													<div style="clear: both" />
													<rich:separator styleClass="tooltipSeparator" height="1" rendered="#{key ge 1}"/>
												</a:repeat>
											</s:span>
										</rich:toolTip>
									</s:decorate>

									<ui:repeat var="dataInstance" value="#{item.singleProperties}">
										<s:decorate template="/layout/display.xhtml">
											<ui:define name="label">
												<h:outputText value="#{dataInstance.dataDefinition.label}" />
											</ui:define>
											<h:outputText value="#{dataInstance.stringValue}"
												rendered="#{dataInstance.dataDefinition.dataType == 'STRING'}"/>
											<h:outputText value="#{dataInstance.integerValue}"
												rendered="#{dataInstance.dataDefinition.dataType == 'INTEGER'}" />
											<h:outputText value="#{dataInstance.booleanValue ? 'true' : 'false'}"
												rendered="#{dataInstance.dataDefinition.dataType == 'BOOLEAN'}" />
											<h:outputText value="#{dataInstance.dateValue}"
												rendered="#{dataInstance.dataDefinition.dataType == 'DATE'}">
												<s:convertDateTime type="date" dateStyle="short"
													pattern="dd/MM/yyyy" />
											</h:outputText>
										</s:decorate>
									</ui:repeat>
									
									<a:repeat var="dataInstance" value="#{item.multipleProperties}">
										<s:decorate template="/layout/display.xhtml">
											<ui:define name="label">
												<h:outputText value="#{dataInstance.dataDefinition.label}" />
											</ui:define>
											<h:outputText value="#{dataInstance.values.toString()}"/>
										</s:decorate>
									</a:repeat>
									
									
									<div style="clear: both" />
									<a:region>
										<a:commandButton value="Remove"
											action="#{slotInstEditBean.remove(coll.docDefCollection.id, item)}"
											reRender="infoPanel_#{coll.docDefCollection.id},primaryRegion_#{coll.docDefCollection.id}" />
										<a:commandButton value="Edit"
											action="#{slotInstEditBean.editItem(coll.docDefCollection.id, item)}" 
											reRender="editPanel" 
											oncomplete="#{rich:component('editPanel')}.show()"
											disabled="#{not item.editable}"/>
									</a:region>
								</s:div>
								</a:repeat>
								<div style="clear: both" />

								<a:region>
									<a:commandButton id="addNewFile_#{coll.docDefCollection.id}"
										value="add new file"
										action="#{slotInstEditBean.setActiveCollectionId(coll.docDefCollection.id)}"
										onclick="#{rich:component('uploadPanel')}.show()"
										reRender="primaryRegion_#{coll.docDefCollection.id}"
										disabled="#{slotInstEditBean.datas[coll.docDefCollection.id].size ge coll.docDefCollection.max}" />
								</a:region>
							</rich:panel>
						</s:div>

						</c:forEach>
					</h:panelGrid>
				</s:div>

				<div style="clear: both"><span class="required">*</span>
				required fields</div>

			</rich:panel>

			<div class="actionButtons">
			<h:commandButton id="save"
				value="Save" action="#{slotInstEditBean.save()}"
				rendered="#{slotInstHome.id == null}"
				styleClass="modal" />
			<h:commandButton id="update"
				value="Save" action="#{slotInstEditBean.update()}"
				rendered="#{slotInstHome.id != null}" 
				styleClass="modal"/>
			<h:commandButton id="delete"
				value="Delete" action="#{slotInstHome.remove}" immediate="true"
				rendered="#{slotInstHome.managed}" 
				styleClass="modal"/>
			<s:button id="cancelEdit"
				value="Cancel" propagation="end" view="/SlotInst.xhtml"
				rendered="#{slotInstHome.managed}" />
			<s:button id="cancelAdd"
				value="Cancel" propagation="end"
				view="/#{empty slotInstFrom ? 'SlotInstList' : slotInstFrom}.xhtml"
				rendered="#{!slotInstHome.managed}" />
			</div>
		</a:form>

		<rich:tabPanel switchType="ajax">

			<rich:tab label="Doc inst collections">
				<h:form styleClass="association" id="docInstCollectionsChildren">

					<h:outputText
						value="There are no docInstCollections associated with this slotInst."
						rendered="#{empty slotInstHome.docInstCollections}" />

					<rich:dataTable value="#{slotInstHome.docInstCollections}"
						var="_docInstCollection"
						rendered="#{not empty slotInstHome.docInstCollections}"
						rowClasses="rvgRowOne,rvgRowTwo" id="docInstCollectionsTable">
						<rich:column sortBy="#{_docInstCollection.id}">
							<f:facet name="header">Id</f:facet>
							<h:outputText value="#{_docInstCollection.id}" />
						</rich:column>
					</rich:dataTable>

				</h:form>

				<f:subview rendered="#{slotInstHome.managed}"
					id="docInstCollections">
					<div class="actionButtons">
					<s:button value="Add docInstCollection"
						id="adddocInstCollection" 
						view="/DocInstCollectionEdit.xhtml" propagation="none">
						<f:param name="slotInstId" value="#{slotInstHome.instance.id}" />
						<f:param name="docInstCollectionFrom" value="SlotInst" />
					</s:button></div>
				</f:subview>
			</rich:tab>

			<rich:tab label="Slot def">
				<div class="association" id="slotDefParent"><h:outputText
					value="There is no slotDef associated with this slotInst."
					rendered="#{slotInstHome.instance.slotDef == null}" /> <rich:dataTable
					var="_slotDef" value="#{slotInstHome.instance.slotDef}"
					rendered="#{slotInstHome.instance.slotDef != null}"
					rowClasses="rvgRowOne,rvgRowTwo" id="slotDefTable">
					<h:column>
						<f:facet name="header">Id</f:facet>
						<h:outputText value="#{_slotDef.id}" />
					</h:column>
					<h:column>
						<f:facet name="header">Name</f:facet>
						<h:outputText value="#{_slotDef.name}" />
					</h:column>
				</rich:dataTable>

				<div class="actionButtons"><s:button
					id="#{slotInstHome.instance.slotDef != null ? 'changeParent' : 'selectParent'}"
					value="#{slotInstHome.instance.slotDef != null ? 'Change' : 'Select'} slotDef"
					view="/SlotDefList.xhtml">
					<f:param name="from" value="SlotInstEdit" />
				</s:button></div>

				</div>
			</rich:tab>
		</rich:tabPanel>

		<rich:modalPanel id="uploadPanel" autosized="true">
			<f:facet name="header">
				<h:outputText value="Upload dialog" />
			</f:facet>
			<a:form>
				<rich:fileUpload id="fileUpload"
					fileUploadListener="#{slotInstEditBean.listener}" acceptedTypes="*"
					noDuplicate="false" autoclear="false" immediateUpload="true"
					onuploadcomplete="#{rich:component('uploadPanel')}.hide()">
					<a:support event="onfileuploadcomplete"
						reRender="editPanel,uploadPanel"
						oncomplete="#{rich:component('editPanel')}.show()" />
				</rich:fileUpload>
			</a:form>
			<div style="clear: both" />
			<a:commandButton value="Cancel"
				onclick="#{rich:component('uploadPanel')}.hide()" />
		</rich:modalPanel>

		<rich:modalPanel id="editPanel" autosized="true" minWidth="550">
			<f:facet name="header">
				<h:outputText value="Edit dialog" />
			</f:facet>
			<a:form id="editPanelForm">

					<script type="text/javascript">
					var epfinvalid = false;
					</script>

				<s:decorate template="/layout/display.xhtml">
					<ui:define name="label">
						<h:outputText value="File Name" />
					</ui:define>
					<h:outputText value="#{slotInstEditBean.activeFileContainer.fileName}" />
				</s:decorate>

				<ui:repeat var="dataInstance"
					value="#{slotInstEditBean.activeFileContainer.singleProperties}">
					
					<s:decorate template="/layout/edit.xhtml">
					<ui:param name="prefix" value="epf" />
						<ui:define name="label">
							<h:outputText value="#{dataInstance.dataDefinition.label}" />
						</ui:define>
						<h:inputText value="#{dataInstance.stringValue}"
							rendered="#{dataInstance.dataDefinition.dataType == 'STRING' and dataInstance.dataDefinition.dictionaryValues == null}"
							required="#{dataInstance.dataDefinition.required}"
							disabled="#{not dataInstance.dataDefinition.editable}" />
						<h:inputText value="#{dataInstance.integerValue}"
							rendered="#{dataInstance.dataDefinition.dataType== 'INTEGER' and dataInstance.dataDefinition.dictionaryValues == null}"
							required="#{dataInstance.dataDefinition.required}"
							disabled="#{not dataInstance.dataDefinition.editable}" />
						<h:selectBooleanCheckbox value="#{dataInstance.booleanValue}"
							rendered="#{dataInstance.dataDefinition.dataType == 'BOOLEAN'}"
							required="#{dataInstance.dataDefinition.required}"
							disabled="#{not dataInstance.dataDefinition.editable}" />
						<rich:calendar id="subscriptionDate" mode="client"
							value="#{dataInstance.dateValue}" datePattern="dd/MM/yyyy"
							rendered="#{dataInstance.dataDefinition.dataType == 'DATE' and dataInstance.dataDefinition.dictionaryValues == null}"
							required="#{dataInstance.dataDefinition.required}"
							disabled="#{not dataInstance.dataDefinition.editable}" />
						
						<h:selectOneMenu value="#{dataInstance.stringValue}" required="#{dataInstance.dataDefinition.required}"
									rendered="#{dataInstance.dataDefinition.dataType == 'STRING' and dataInstance.dataDefinition.dictionaryValues != null}">
                    		<s:selectItems value="#{dataInstance.dataDefinition.dictionaryValues}" 
											var="value" label="#{value}" noSelectionLabel="-- select a value --"/>
             			</h:selectOneMenu>
             			<h:selectOneMenu value="#{dataInstance.integerValue}" required="#{dataInstance.dataDefinition.required}"
             						rendered="#{dataInstance.dataDefinition.dataType == 'INTEGER' and dataInstance.dataDefinition.dictionaryValues != null}" >
                    		<s:selectItems value="#{dataInstance.dataDefinition.dictionaryValues}" 
											var="value" label="#{value}" noSelectionLabel="-- select a value --"/>
             			</h:selectOneMenu>
             			<h:selectOneMenu value="#{dataInstance.dateValue}"  required="#{dataInstance.dataDefinition.required}"
             						rendered="#{dataInstance.dataDefinition.dataType == 'DATE' and dataInstance.dataDefinition.dictionaryValues != null}">
                    		<s:selectItems value="#{dataInstance.dataDefinition.dictionaryValues}" 
											var="value" label="#{value}" noSelectionLabel="-- select a value --"/>
							<s:convertDateTime type="date" dateStyle="short" pattern="dd/MM/yyyy" /> 
             			</h:selectOneMenu>
             			
					</s:decorate>
				</ui:repeat>
				<a:repeat var="multipleDataInstance" value="#{slotInstEditBean.activeFileContainer.multipleProperties}">
					<s:decorate template="/layout/edit.xhtml">
						<ui:param name="prefix" value="epf" />
						<ui:define name="label">
							<h:outputText value="#{multipleDataInstance.dataDefinition.label}" />
						</ui:define>
						<rich:pickList value="#{multipleDataInstance.values}" required="#{multipleDataInstance.dataDefinition.required}">
							<s:selectItems value="#{multipleDataInstance.dataDefinition.dictionaryValues}" var="value" label="#{value}" />
						</rich:pickList>
					</s:decorate>
				</a:repeat>
				
				<div style="clear: both" />
				<a:commandButton value="Confirm"
					action="#{slotInstEditBean.addActiveItemToDatas}"
					reRender="editPanelForm, infoPanel_#{slotInstEditBean.activeCollectionId}" 
					oncomplete="if(!epfinvalid){#{rich:component('editPanel')}.hide();}#{rich:component('waitPanel')}.hide();"
					onclick="#{rich:component('waitPanel')}.show();"/>
				<a:region>
				<a:commandButton value="Cancel" onclick="#{rich:component('editPanel')}.hide()"/>
				</a:region>
			</a:form>
		</rich:modalPanel>

	</ui:define>

</ui:composition>
