<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:a4j="http://richfaces.org/a4j"
    template="/layout/template.xhtml">

<ui:define name="body">
<style>
        .top{
            vertical-align:top;
        }
        .pbody{
            padding:0px;
            height:150px; 
            width:350px;
            overflow:auto;
        }
    </style>
    <rich:modalPanel id="panel" width="350" height="200" showWhenRendered="#{not aziendaHome.haveSoa()}" >
        <f:facet name="header">
            <h:panelGroup>
                <h:outputText value="Attenzione"></h:outputText>
            </h:panelGroup>
        </f:facet>
        <div  style="font-size: 14px;">
        <h:outputText  style="font-size: 14px;" value="Per ottenere un miglior servizio di alert sulle gare ti chiediamo di insere le tue SOA"></h:outputText>
        <br />
        <h:outputText value="Se non sei in possesso di una SOA....."></h:outputText><br /><br />
        <h:outputText value="Se non sei in possesso di certificaizone SOA inserisci le tue Categorie Merceologiche" /><br />
        <br/>
        </div>
                    <s:button styleClass="clean-gray" id="chiudiPanel" onclick="#{rich:component('panel')}.hide();return false;" value="Chiudi" />
                    <s:button styleClass="clean-gray" id="cm" view="/user/CatMerEdit.xhtml"  value="Categorie Merceologiche"  />

    </rich:modalPanel>
<!--    <rich:modalPanel id="addSOA" autosized="true" minWidth="500"-->
<!--                resizeable="false">-->
<!--            <f:facet name="header">-->
<!--                <h:outputText value="Inserisci SOA" />-->
<!--            </f:facet>-->
<!--            <a4j:form id="soaPanelEdit">-->
<!--                <s:decorate template="/layout/edit.xhtml">-->
<!--                <ui:define name="label">-->
<!--                    <h:outputText value="Categorie" />-->
<!--                </ui:define>                    -->
<!--                    <h:selectOneMenu value="#{soaList.resultList}">-->
<!--                    -->
<!--                    -->
<!--                    </h:selectOneMenu>-->
<!--                </s:decorate>-->
<!--            </a4j:form>-->
<!--     </rich:modalPanel>-->
<h:form id="CatMerEdit" styleClass="edit">
	<rich:panel >
	   <f:facet name="header">Gestisci le SOA </f:facet>
<!--	   <rich:dataTable id="soaDataTable" var="soa" value="#{aziendaHome.instance.SOAAsList}">-->
<!--	       <h:column>-->
<!--	           <f:facet name="header">Categoria</f:facet>-->
<!--	           <h:outputText value="#{soa.codice} - #{soa.nome}" />-->
<!--	       </h:column>-->
<!--           <h:column>-->
<!--               <f:facet name="header">Classe</f:facet>-->
<!--               <h:outputText value="#{soa.classifica}" />-->
<!--           </h:column>-->
<!--	   </rich:dataTable>-->
<!--	   <a4j:commandButton value="Aggiungi" -->
<!--	                      oncomplete="#{rich:component('addSOA')}.show();"-->
<!--	                      reRender="soaDataTable" />-->
	                      
	   <h:panelGrid columns="2" columnClasses="top, top" style="margin:0 auto;">
	        <rich:pickList value="#{aziendaHome.instance.SOAAsList}" sourceListWidth="400" targetListWidth="400" listsHeight="400"> 
                <s:selectItems value="#{soaList.resultList}" var="cm" label="#{cm.codice} - #{cm.nome}"/>
                <s:convertEntity />
                <a4j:support event="onlistchanged" reRender="result"/>
        </rich:pickList>
	   </h:panelGrid>
	
	
	</rich:panel>
	<div class="actionButtons">

            <h:commandButton id="save"
                          value="Salva"
                         action="#{aziendaHome.update()}"
                         />
        </div>
</h:form>

</ui:define>
</ui:composition>